---
name: Code Splitting
menu: Global
route: /code-splitting
---

# Code splitting

This library supports code splitting by using [babel-plugin-transform-imports](https://www.npmjs.com/package/babel-plugin-transform-imports) plugin.

## Babel configuration

```javascript
"@heathmont/(moon-components|moon-themes|moon-utils|moon-fonts|moon-global)": {
  transform: (member, matches) => `${matches[0]}/lib/es/${camelCase(member)}/${member}`,
},
"@heathmont/moon-assets\/?(((\\w*)?\/?)*)": {
  "transform": "@heathmont/moon-assets/es/${1}/${member}"
},
```

### Production babel configuration for Sportsbet

```javascript
const { camelCase } = require('lodash');
module.exports = {
  presets: [
    [
      '@babel/preset-env',
      {
        targets: {
          edge: '81',
          firefox: '75',
          chrome: '81',
          safari: '11.1',
          opera: '65',
        },
        useBuiltIns: 'usage',
        corejs: '3',
        modules: false,
      },
    ],
    ['@babel/preset-react'],
    ['@babel/preset-typescript'],
  ],
  plugins: [
    ['graphql-tag'],
    [
      'transform-imports',
      {
        lodash: {
          transform: 'lodash-es/${member}',
          preventFullImport: true,
        },
        recompose: {
          transform: 'recompose/${member}',
          preventFullImport: true,
        },
        'date-fns': {
          transform: 'date-fns/esm/${member}',
          preventFullImport: true,
        },
        '@heathmont/(moon-components|moon-themes|moon-utils|moon-fonts|moon-global)': {
          transform: (member, matches) =>
            `${matches[0]}/lib/es/${camelCase(member)}/${member}`,
        },
        '@heathmont/moon-assets/?(((\\w*)?/?)*)': {
          transform: '@heathmont/moon-assets/es/${1}/${member}',
        },
        '@heathmont/sportsbet-client-lib/?(((\\w*)?/?)*)': {
          transform: '@heathmont/sportsbet-client-lib/es/${1}/${member}',
        },
      },
    ],
    ['@babel/plugin-syntax-dynamic-import'],
    ['@loadable/babel-plugin'],
    [
      'styled-components',
      {
        ssr: true,
        pure: true,
      },
    ],
  ],
};
```
